let express,fs,path,blog,user,pool;_1da‍.w("express",[["default",["express"],function(v){express=v}]]);_1da‍.w("fs",[["default",["fs"],function(v){fs=v}]]);_1da‍.w("path",[["default",["path"],function(v){path=v}]]);_1da‍.w("./routers/blog",[["default",["blog"],function(v){blog=v}]]);_1da‍.w("./routers/user",[["default",["user"],function(v){user=v}]]);_1da‍.w("./db",[["pool",["pool"],function(v){pool=v}]]);
const app = express()







app.use(express.json())

app.post('/', async(req, res) => {
    const { description } = req.body
    const newTOdo = await pool.query(
        "INSERT INTO todo (description) VALUES($1) RETURNING", [description]
    )
    _1da‍.g.console.log(newTOdo)
    return res.json(newTOdo)
})

const routers = fs.readdirSync(path.join(__dirname, 'routers'))
routers.map((route) => {
    app.use('/api', require(`./routers/${route}`).default)

})



app.listen(3000, () => {
    console.log('listening on 3000')
})